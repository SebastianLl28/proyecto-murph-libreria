extends ../templates/head-app

block styles 
  link(rel="stylesheet", href="/css/dist/category.css")


block contenido

  if errors
    div.errors
      each error in errors
          p.errors__message(data-parent=error.path )= error.msg
      img.errors__image(src="/img/flork-basado.gif", alt="")

  section.section
    article.table
      h2.table__title Category
      div.table__container
        
        //- div.card
        //-   h2.card__title Titulo
        //-   div.card__container
        //-     p fecha:
        //-     span 23 de Octubre
        //-   div.card__buttons
        //-     button.card__edit Edit 
        //-     button.card__delete Delete  

        each category in categories
          div(class=`${categorieEdit ? categorieEdit.id == category.id ? 'card-active' : '' : ''} card`)
            h2.card__title= category.name
            div.card__container
              p fecha:
              span= category.date
            div.card__buttons
              form(method="GET" action=`/category/edit/${category.id}`) 
                input.card__edit(type="submit", value="Edit")
              form(method="POST" action=`/category/delete/${category.id}`) 
                input.card__delete(type="submit", value="Delete")
    if categorieEdit
      form.form.card-active(method="POST" action=`/category/edit/${categorieEdit.id}`)
        h2.form__title Edit Category
        div.form__container
          label(for="name") Name
          input#name.form__input(type="text", name="name", value= name ? name : '')
          span.form__decoration
        input.form__submit(type="submit", value="Edit") 
    else 
      form.form(method="POST" action="/category/add")
        h2.form__title New Category
        div.form__container
          label(for="name") Name
          input#name.form__input(type="text", name="name", value = name ? name : '')
          span.form__decoration
        input.form__submit(type="submit", value="Add")

block scripts
  script(src="/js/register.js")